{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,oBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC+B;AACP;;;;;;;;;;;;;;;;;;;;ACtHa;AACR;AACtB;AACP;AACA;AACA;AACA;AACA;AACA,YAAY,2CAAa;AACzB,iHAAiH,6CAAe;AAChI,QAAQ,iDAAmB;AAC3B,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,2CAAa;AAC7B,0HAA0H,6CAAe;AACzI,YAAY,iDAAmB;AAC/B;AACA,KAAK;AACL;AACA;AACA;AACA,yCAAyC,+CAAiB;AAC1D;AACA;AACA,yGAAyG,6CAAe;AACxH,IAAI,iDAAmB;AACvB;AACO;AACP;AACA;AACA;AACA;AACA;AAC2C;AACP;;;;;;;;;;;;;;;;;;;;;ACvCpC,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AAC6B;AACtB;AACA;AACP;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,cAAc;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2CAAa;AACrC,oBAAoB,6CAAe;AACnC;AACA,oBAAoB,4CAAc;AAClC;AACA;AACA;AACA;AACA;AACA,wBAAwB,2CAAa;AACrC;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,cAAc;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACO;AACP;AACA,QAAQ,6CAAe;AACvB;AACA;AACA;AACA,wCAAwC,yBAAyB;AACjE;AACA;AACA,YAAY,4CAAc;AAC1B;AACA,SAAS;AACT,KAAK;AACL;AACA,YAAY,iDAAmB;AAC/B;AACA,KAAK;AACL;AACA;AACA,IAAI,4CAAc;AAClB,IAAI,mDAAqB;AACzB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI,4CAAc;AAClB;AACA,QAAQ,6CAAe;AACvB,KAAK;AACL;AACuC;AACP;;;;;;;UC3HhC;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;ACNyC;AACzC,qDAAuB","sources":["webpack://my-webpack-project/./src/dom.ts","webpack://my-webpack-project/./src/interface.ts","webpack://my-webpack-project/./src/weather.ts","webpack://my-webpack-project/webpack/bootstrap","webpack://my-webpack-project/webpack/runtime/define property getters","webpack://my-webpack-project/webpack/runtime/hasOwnProperty shorthand","webpack://my-webpack-project/webpack/runtime/make namespace object","webpack://my-webpack-project/./src/index.ts"],"sourcesContent":["var location = document.getElementById(\"location\");\nvar error = document.getElementById(\"error\");\nexport function changeInfo(cityName, countryName) {\n    var city = document.getElementById(\"city\");\n    var country = document.getElementById(\"country\");\n    city.textContent = cityName;\n    country.textContent = countryName;\n    if (city.textContent.length >= 20) {\n        city.style.fontSize = \"2rem\";\n    }\n}\nexport function changeDate(dateData) {\n    var options = {\n        weekday: \"long\",\n        month: \"long\",\n        day: \"numeric\",\n        year: \"numeric\",\n    };\n    var date = document.getElementById(\"date\");\n    date.textContent = new Date(dateData).toLocaleDateString(\"en-GB\", options);\n}\nexport function changeWeatherInfo(data) {\n    var temperature = document.getElementById(\"temp\");\n    var feelsLike = document.getElementById(\"feels-like\");\n    var precipitation = document.getElementById(\"precipitation\");\n    var humidity = document.getElementById(\"humidity\");\n    var wind = document.getElementById(\"wind-speed\");\n    var gust = document.getElementById(\"gust-speed\");\n    var image = document.getElementById(\"weather-image\");\n    var description = document.getElementById(\"description\");\n    temperature.textContent = Math.round(data.list[0].main.temp) + \"°c\";\n    feelsLike.textContent = Math.round(data.list[0].main.feels_like) + \"°c\";\n    precipitation.textContent = data.list[0].pop * 100 + \"%\";\n    humidity.textContent = data.list[0].main.humidity + \"%\";\n    wind.textContent = Math.round(data.list[0].wind.speed) + \"m/s\";\n    gust.textContent = Math.round(data.list[0].wind.gust) + \"m/s\";\n    image.src = changeImage(data.list[0].weather[0].main);\n    description.textContent = capitalizeDescription(data.list[0].weather[0].description);\n}\nexport function cityError() {\n    location.style.marginTop = \"2.1rem\";\n    error.style.display = \"block\";\n    error.textContent = \"Please check search input.\";\n    return;\n}\nexport function permissionError() {\n    location.style.marginTop = \"2.1rem\";\n    error.style.display = \"block\";\n    error.textContent = \"Please request permission.\";\n    return;\n}\nexport function removeError() {\n    location.style.marginTop = \"0rem\";\n    error.style.display = \"none\";\n}\nexport function createCards(data) {\n    var options = {\n        weekday: \"long\",\n        month: \"short\",\n        day: \"numeric\",\n    };\n    var cardContainer = document.querySelector(\".weather-cards\");\n    var card = document.createElement(\"li\");\n    card.classList.add(\"card\");\n    cardContainer.appendChild(card);\n    var day = document.createElement(\"h3\");\n    var weather = document.createElement(\"img\");\n    var temperature = document.createElement(\"h4\");\n    var humidity = document.createElement(\"h4\");\n    var wind = document.createElement(\"h4\");\n    day.textContent = new Date(data.dt_txt).toLocaleDateString(\"en-GB\", options);\n    weather.src = changeImage(data.weather[0].main);\n    temperature.textContent = \"Temperature: \" + Math.round(data.main.temp) + \"°c\";\n    humidity.textContent = \"Humidity: \" + data.main.humidity + \"%\";\n    wind.textContent = \"Wind Speed: \" + Math.round(data.wind.speed) + \"m/s\";\n    card.appendChild(day);\n    card.appendChild(weather);\n    card.appendChild(temperature);\n    card.appendChild(humidity);\n    card.appendChild(wind);\n}\nexport function clearCards() {\n    var cardContainer = document.querySelector(\".weather-cards\");\n    cardContainer.innerHTML = \"\";\n}\nfunction capitalizeDescription(description) {\n    var splitLetters = description.split(\" \");\n    for (var i = 0; i < splitLetters.length; i++) {\n        splitLetters[i] =\n            splitLetters[i].charAt(0).toUpperCase() + splitLetters[i].slice(1);\n    }\n    var capitalString = splitLetters.join(\" \");\n    return capitalString;\n}\nfunction changeImage(weather) {\n    if (weather === \"Clear\") {\n        return \"https://openweathermap.org/img/wn/01d@2x.png\";\n    }\n    else if (weather === \"Rain\") {\n        return \"https://openweathermap.org/img/wn/10d@2x.png\";\n    }\n    else if (weather === \"Drizle\") {\n        return \"https://openweathermap.org/img/wn/09d@2x.png\";\n    }\n    else if (weather === \"Thunderstorm\") {\n        return \"https://openweathermap.org/img/wn/11d@2x.png\";\n    }\n    else if (weather === \"Snow\") {\n        return \"https://openweathermap.org/img/wn/13d@2x.png\";\n    }\n    else if (weather === \"Atmosphere\") {\n        return \"https://openweathermap.org/img/wn/50d@2x.png\";\n    }\n    else if (weather === \"Clouds\") {\n        return \"https://openweathermap.org/img/wn/02d@2x.png\";\n    }\n}\nimport * as DOM_1 from \"./dom\";\nexport { DOM_1 as DOM };\n","import * as Weather from \"./weather\";\nimport * as DOM from \"./dom\";\nexport var location = document.getElementById(\"location\");\nfunction searchCity() {\n    var search = document.getElementById(\"search\");\n    search.addEventListener(\"click\", function () {\n        var city = location.value.trim();\n        if (!city)\n            DOM.cityError();\n        var CITY_URL = \"https://api.openweathermap.org/geo/1.0/direct?q=\".concat(city, \"&limit=5&appid=\").concat(Weather.API_KEY);\n        Weather.getCityData(CITY_URL);\n    });\n}\nfunction inputEnterKey() {\n    location.addEventListener(\"keypress\", function (event) {\n        if (event.key === \"Enter\") {\n            var city = location.value.trim();\n            if (!city)\n                DOM.cityError();\n            var GEOCODING_API = \"https://api.openweathermap.org/geo/1.0/direct?q=\".concat(city, \"&limit=5&appid=\").concat(Weather.API_KEY);\n            Weather.getCityData(GEOCODING_API);\n        }\n    });\n}\nfunction locateUser() {\n    var userLocate = document.getElementById(\"user-coords\");\n    userLocate.addEventListener(\"click\", Weather.getCoords);\n}\nfunction setDefaultCity() {\n    var GEOCODING_API = \"https://api.openweathermap.org/geo/1.0/direct?q=Yokohama&limit=5&appid=\".concat(Weather.API_KEY);\n    Weather.getCityData(GEOCODING_API);\n}\nexport function loadFunctions() {\n    searchCity();\n    inputEnterKey();\n    setDefaultCity();\n    locateUser();\n}\nimport * as Interface_1 from \"./interface\";\nexport { Interface_1 as Interface };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as DOM from \"./dom\";\nexport var API_KEY = \"226dbf12f6c9f3e021556ea66e7c95c9\";\nexport function getCityData(url) {\n    return __awaiter(this, void 0, void 0, function () {\n        var response, data, _a, name_1, country, lat, lon, error_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 3, , 4]);\n                    return [4 /*yield*/, fetch(url, { mode: \"cors\" })];\n                case 1:\n                    response = _b.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    data = _b.sent();\n                    if (!data.length)\n                        DOM.cityError();\n                    DOM.removeError();\n                    _a = data[0], name_1 = _a.name, country = _a.country, lat = _a.lat, lon = _a.lon;\n                    DOM.changeInfo(name_1, country);\n                    getWeatherData(lat, lon, API_KEY);\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_1 = _b.sent();\n                    if (error_1.code === error_1.TypeError) {\n                        DOM.cityError();\n                    }\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\nexport function getWeatherData(latitude, longitude, API) {\n    return __awaiter(this, void 0, void 0, function () {\n        var FORECAST_URL, response, data;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    FORECAST_URL = \"https://api.openweathermap.org/data/2.5/forecast/?lat=\".concat(latitude, \"&lon=\").concat(longitude, \"&appid=\").concat(API, \"&units=metric\");\n                    return [4 /*yield*/, fetch(FORECAST_URL, { mode: \"cors\" })];\n                case 1:\n                    response = _a.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    data = _a.sent();\n                    filterForecastData(data);\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexport function getCoords() {\n    navigator.geolocation.getCurrentPosition(function (position) {\n        DOM.removeError();\n        var _a = position.coords, latitude = _a.latitude, longitude = _a.longitude;\n        var GEOCODING_URL = \"https://api.openweathermap.org/geo/1.0/reverse?lat=\".concat(latitude, \"&lon=\").concat(longitude, \"&limit=1&appid=\").concat(API_KEY);\n        fetch(GEOCODING_URL)\n            .then(function (response) { return response.json(); })\n            .then(function (data) {\n            var _a = data[0], name = _a.name, country = _a.country, lat = _a.lat, lon = _a.lon;\n            DOM.changeInfo(name, country);\n            getWeatherData(lat, lon, API_KEY);\n        });\n    }, function (error) {\n        if (error.code === error.PERMISSION_DENIED) {\n            DOM.permissionError();\n        }\n    });\n}\nfunction filterForecastData(data) {\n    DOM.changeDate(data.list[0].dt_txt);\n    DOM.changeWeatherInfo(data);\n    var uniqueForecastDays = [];\n    var fiveForecastDays = data.list.filter(function (list) {\n        var forecastDate = new Date(list.dt_txt).getDate();\n        if (!uniqueForecastDays.includes(forecastDate))\n            return uniqueForecastDays.push(forecastDate);\n    });\n    if (fiveForecastDays.length > 5)\n        fiveForecastDays.splice(0, 1);\n    DOM.clearCards();\n    fiveForecastDays.forEach(function (day) {\n        DOM.createCards(day);\n    });\n}\nimport * as Weather_1 from \"./weather\";\nexport { Weather_1 as Weather };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import * as Interface from \"./interface\";\nInterface.loadFunctions();\n"],"names":[],"sourceRoot":""}